<%= breadcrumbs @episode, :timed_script %>

<% if @episode.transcript_editor_html.present? %>
  <% timed_script2 = @episode.timed_script2 %>

  <div class="side-by-side">
    <div class="column">
      <h3>parsed_paragraphs (json)</h3>
      <%= error_boundary do %>
        <pre><%= JSON.pretty_generate @episode.timed_script2.parsed_paragraphs.as_json %></pre>
      <% end %>
    </div>

    <div class="column">
      <h3>parsed_paragraphs (txt)</h3>
      <%= error_boundary do %>
        <pre><%= timed_script2.parsed_paragraphs.flat_map(&:to_txt).join("\n") %></pre>
      <% end %>
    </div>

    <div class="column">
      <h3>timed_script2</h3>
      <%= error_boundary do %>
        <%= render_object timed_script2 %>
      <% end %>
    </div>

    <% if false %>
      <div class="column">
        <h3>Nokogiri structure</h3>
        <%= error_boundary do %>
          <small>
            <%= render 'admin/shared/nokogiri_node', node: @episode.timed_script.doc.css('#transcript').first, level: 1 %>
          </small>
        <% end %>
      </div>
    <% end %>

    <div class="column">
      <h3>as_plain_text</h3>
      <%= error_boundary do %>
        <h3>timed_script2.as_plain_text</h3>
        <pre><%= timed_script2.as_plain_text %></pre>
      <% end %>
    </div>
  </div>

<% else %>
  Transcript with timestamps not found.
<% end %>
